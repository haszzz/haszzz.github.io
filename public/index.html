<!DOCTYPE html>
<html lang="fr" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion Vocabulaire Arabe-Fran√ßais</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Gestionnaire de Vocabulaire Arabe-Fran√ßais</h1>
            <div class="file-selector">
                <label for="csv-select">S√©lectionner un fichier CSV :</label>
                <select id="csv-select">
                    <option value="">-- Choisir --</option>
                    <option value="2.csv">2.csv</option>
                    <option value="2s.csv">2s.csv</option>
                    <option value="3.csv">3.csv</option>
                    <option value="4.csv">4.csv</option>
                </select>
            </div>
        </header>

        <div id="loading" class="loading hidden">
            <p>Chargement...</p>
        </div>

        <div id="error" class="error hidden"></div>

        <div id="tableaux-view" class="hidden">
            <h2>Tableaux de Vocabulaire</h2>
            <div class="progress-summary">
                <p id="overall-progress"></p>
            </div>
            <div id="tableaux-list" class="tableaux-list"></div>
        </div>

        <div id="words-view" class="hidden">
            <div class="view-header">
                <button id="back-to-tableaux" class="btn btn-secondary">‚Üê Retour aux tableaux</button>
                <h2 id="tableau-title"></h2>
                <div class="tableau-actions">
                    <button id="tinder-mode-btn" class="btn btn-success">üî• Mode Rapide</button>
                    <button id="verify-all-tableau" class="btn btn-success">‚úì Marquer tout le tableau</button>
                    <button id="save-changes" class="btn btn-primary">üíæ Sauvegarder</button>
                </div>
            </div>

            <div class="words-table-container">
                <table id="words-table">
                    <thead>
                        <tr>
                            <th class="col-check">‚úì</th>
                            <th class="col-arabic">Arabe</th>
                            <th class="col-french">Fran√ßais</th>
                            <th class="col-audio">Audio</th>
                            <th class="col-actions">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="words-tbody"></tbody>
                </table>
            </div>
        </div>

        <div id="tinder-view" class="hidden">
            <div class="tinder-header">
                <button id="exit-tinder" class="btn btn-secondary">‚Üê Retour</button>
                <h2 id="tinder-title"></h2>
                <div class="tinder-progress">
                    <span id="tinder-counter"></span>
                </div>
            </div>

            <div class="tinder-container">
                <div id="tinder-card" class="tinder-card">
                    <div class="card-content">
                        <div class="card-arabic" id="card-arabic"></div>
                        <div class="card-french" id="card-french"></div>
                        <div class="card-audio-controls">
                            <button class="icon-btn-large" id="card-play-audio" title="√âcouter (Espace)">üîä</button>
                            <button class="icon-btn-large" id="card-regenerate-audio" title="R√©g√©n√©rer">üîÑ</button>
                        </div>
                    </div>
                </div>

                <div class="tinder-actions">
                    <button class="tinder-btn tinder-btn-reject" id="tinder-edit" title="Modifier (‚Üê)">
                        ‚úèÔ∏è Modifier
                    </button>
                    <button class="tinder-btn tinder-btn-skip" id="tinder-skip" title="Passer (‚Üì)">
                        ‚è≠Ô∏è Passer
                    </button>
                    <button class="tinder-btn tinder-btn-accept" id="tinder-accept" title="Valider (‚Üí)">
                        ‚úì Valider
                    </button>
                </div>

                <div class="keyboard-hints">
                    <span>‚Üê Modifier</span>
                    <span>Espace: Audio</span>
                    <span>‚Üì Passer</span>
                    <span>‚Üí Valider</span>
                </div>
            </div>
        </div>
    </div>

    <div id="edit-modal" class="modal hidden">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Modifier l'entr√©e</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="edit-arabic">Arabe :</label>
                    <input type="text" id="edit-arabic" dir="rtl" class="form-control arabic-input">
                </div>
                <div id="arabic-keyboard" class="arabic-keyboard"></div>
                <div class="form-group">
                    <label for="edit-french">Fran√ßais :</label>
                    <input type="text" id="edit-french" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button id="cancel-edit" class="btn btn-secondary">Annuler</button>
                <button id="confirm-edit" class="btn btn-primary">Enregistrer</button>
            </div>
        </div>
    </div>

    <div id="add-modal" class="modal hidden">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>Ajouter un nouveau mot</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="add-arabic">Arabe :</label>
                    <input type="text" id="add-arabic" dir="rtl" class="form-control arabic-input">
                </div>
                <div id="arabic-keyboard-add" class="arabic-keyboard"></div>
                <div class="form-group">
                    <label for="add-french">Fran√ßais :</label>
                    <input type="text" id="add-french" class="form-control">
                </div>
                <p class="info-text">Le mot sera ins√©r√© apr√®s la ligne s√©lectionn√©e.</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-add" class="btn btn-secondary">Annuler</button>
                <button id="confirm-add" class="btn btn-primary">Ajouter</button>
            </div>
        </div>
    </div>

    <audio id="audio-player" class="hidden"></audio>

    <script src="app.js"></script>
</body>
</html>
